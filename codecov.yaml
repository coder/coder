codecov:
  require_ci_to_pass: false

comment:
  show_carryforward_flags: yes

github_checks:
  annotations: false

coverage:
  notify:
    flags:
      # Wait to notify until coverage has properly been reported.
      # This can prevent incorrect statuses.
      - unittest-go-ubuntu-latest
      - unittest-go-postgres-ubuntu-latest
      - unittest-go-macos-latest
      - unittest-go-windows-2022
    slack:
      default:
        url: secret:v1::ALa1/e2X+k36fPseab5D7+kBFc9bJyIoIQioD0IMA5jr+0HXVpBRNDCHZhHjCdGc67yff6PPixPEOLwEZpxC37rM23RBZOYlqAq9A5e0MeZVlEoVq19aOYN4Xel17hMJ6GGm7n17wrYpCpcvlVSqNrN0+cr3guVDyG10kQyfh2Y=
        threshold: 1%
        only_pulls: false
        branches:
          - "main"
  status:
    patch:
      default:
        informational: yes
    project:
      default:
        target: 70%
        informational: yes

ignore:
  # This is generated code.
  - coderd/database/models.go
  - coderd/database/query.sql.go
  - coderd/database/databasefake
  # These are generated or don't require tests.
  - cmd
  - coderd/tunnel
  - coderd/database/dump
  - coderd/database/postgres
  - peerbroker/proto
  - provisionerd/proto
  - provisionersdk/proto
  - scripts/datadog-cireport
  - site/.storybook
  - rules.go
