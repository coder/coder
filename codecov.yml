codecov:
  require_ci_to_pass: false

comment:
  show_carryforward_flags: yes

coverage:
  notify:
    slack:
      default:
        url: secret:v1::ALa1/e2X+k36fPseab5D7+kBFc9bJyIoIQioD0IMA5jr+0HXVpBRNDCHZhHjCdGc67yff6PPixPEOLwEZpxC37rM23RBZOYlqAq9A5e0MeZVlEoVq19aOYN4Xel17hMJ6GGm7n17wrYpCpcvlVSqNrN0+cr3guVDyG10kQyfh2Y=
        threshold: 1%
        only_pulls: false
        branches:
          - "main"
  status:
    patch:
      default:
        informational: yes
    project:
      default:
        target: 70%
        informational: yes

ignore:
  # This is generated code.
  - database/models.go
  - database/query.sql.go
  - database/databasefake
  # These are generated or don't require tests.
  - cmd
  - database/dump
  - database/postgres
  - peerbroker/proto
  - provisionerd/proto
  - provisionersdk/proto
  - scripts/datadog-cireport
  - site/.storybook
  - rules.go
